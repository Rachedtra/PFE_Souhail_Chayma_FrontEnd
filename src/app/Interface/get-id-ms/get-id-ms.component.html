<div class="content-wrapper image">
  <div class="container ">

  <div class="row">
    <div class="col-12 col-md-4">
      <h1 class="mt-3 mb-3 ml-5 liste-question"><span class="lt">L</span>iste<span class="lt ml-2">M</span>S</h1>
        
      <input type="text" class="form-control  ml-2" placeholder="Search" [(ngModel)]="MicroServiceFiltre.label" >
     <br>
    <!-- <div *ngFor="let MicroService of MsService.microActive |filterBy : MicroServiceFiltre " 
    style=" color: black">
    <div class="row no-gutters">
      <div class="col">
        <div class="w3-container w3-light-blue">
       
          <button class="btn btn-info my-2 ml-2 col-12 "routerLinkActive="active" 
          (click)="MsService.GetMsFiltrer(MicroService.idMs); CommMs.getCommMsFiltre(MicroService.idMs)">{{MicroService.label}}</button><br>
      
  </div>
  
  
   </div>
           </div>
        </div> -->
   <!---------------------------------------------------------------------------->
 <div class="card card-outline ml-3">
  <div class="card-header">

    <div class="card-tools">
      <span data-toggle="tooltip" title="3 New Messages" class="badge bg-info">{{MsService.NbMs}}</span>
      <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
      </button>
    </div>
    <!-- /.card-tools -->
  </div>
  <!-- /.card-header -->
  <div class="card-body p-0">

    <div class="table-responsive mailbox-messages">
      <table class="table table-hover table-striped">
        <tbody>
        <tr *ngFor="let MicroService of MsService.microActive |filterBy : MicroServiceFiltre
        | paginate
    : {
        id: 'MicroservicePagination',
        itemsPerPage: 10,
        currentPage: p
      } "  >
          <td class="mailbox-name" routerLinkActive="active" 
          (click)="MsService.GetMsFiltrer(MicroService.idMs); CommMs.getCommMsFiltre(MicroService.idMs)"
          >{{MicroService.label}}</td>  
        </tr>
        
        </tbody>
      </table>
      <!-- /.table -->
    </div>
    <!-- /.mail-box-messages -->
  </div>
  <!-- /.card-body -->
  <div class="card-footer p-0">
    <div class="mailbox-controls">
      <!-- Check all button -->
      
      <div class="float-left">
        <pagination-controls id="MicroservicePagination" class="my-pagination" (pageChange)="p = $event"
        previousLabel="Prec " nextLabel="Suiv ">
        </pagination-controls>
       
        <!-- /.btn-group -->
      </div>
      <!-- /.float-right -->
    </div>
  </div>
</div>

<!---------------------------------------------------------------------------->
   
    </div>
  
    <div class="col-6 col-md-8"> 
      <ng-template #templateSubmit>
        <div class="modal-header">
        
          <h4 class="modal-title pull-left"> Detail</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-popup></app-popup>
        </div>
      </ng-template>
    
      <!-- <div class="container text-right m-2 ques-btn">
  
    
        <button type="button" class="btn text-white mr-2"(click)="openModal(templateSubmit)">Poser Question</button>
        
      
      </div>  -->
      <div class="container">
    <!-- Box Comment -->
    <div class="card card-widget mt-3">
      <div class="card-header">
        <div class="user-block" *ngFor="let MicroService of MsService.MsFiltre ">
          
         
          <span class="description"> </span>
        </div>
        <!-- /.user-block -->
        <div class="card-tools">
          <button type="button" class="btn btn-tool" data-toggle="tooltip" title="Mark as read">
            <i class="far fa-circle"></i></button>
          <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
          </button>
          <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i>
          </button>
        </div>
        <!-- /.card-tools -->
      </div>
      <!-- /.card-header -->
      <div class="card-body" *ngFor="let MicroService of MsService.MsFiltre ">
        <!-- post text -->
        <div class="text-left titre">
        <p>{{MicroService.label}}</p>
        </div>
        <hr/>
        <!-------------------------------------------------------------------------->
        <!-- <p class="val"><span class="domcat">Author :</span>  {{MicroService.author}}</p>
        <p  class="val"> <span class="domcat">Language :</span> {{MicroService.languageLabel}}  
        </p>
        <p class="val"><span class="domcat"> Diagramme classe :</span>{{MicroService.diagClass}}}</p>
        <p class="val"> <span class="domcat"> Lien :</span>{{MicroService.lien}}
        </p> -->
        <div class="card card-outline ">
          <div class="card-header">
            <h3 class="card-title comm">Detail Micro Service</h3>

            <div class="card-tools">
              <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
              </button>
            </div>
            <!-- /.card-tools -->
          </div>
          <!-- /.card-header -->
          <div class="card-body" style="display: block;">
            <p class="val"><span class="domcat1">Author :</span>  {{MicroService.author}}</p>
            <p  class="val"> <span class="domcat1">Language :</span> {{MicroService.languageLabel}}  
            </p>
            <p class="val"><span class="domcat1"> Diagramme classe :</span>{{MicroService.diagClass}}</p>
            <p class="val"> <span class="domcat1"> Lien :</span>{{MicroService.lien}}
            </p>
          </div>
          <!-- /.card-body -->
        </div>
                <!-------------------------------------------------------------------------->

        <hr/>
        <div class="direct-chat-msg left">
          <div class="direct-chat-text clearfix">
            {{MicroService.description}}
        </div>
        </div>
      </div> 
        <!-- <div *ngFor="let v of CommVoteService.CommVoteFiltre">
          {{v.note}} 
          
        <hr/>
      
        </div>
   --> <!------------------------------------------------------------------------------------------------------->
    <div class="card  collapsed-card card-prirary cardutline direct-chat direct-chat-info">
      <div class="card-header">
        <h3 class="card-title comm">Commentaires</h3>

        <div class="card-tools">
          <span data-toggle="tooltip" title="3 New Messages" class="badge bg-info">{{CommMs.NbComm}}</span>
          <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-plus"></i>
          </button>
        </div>
      </div>
      <!-- /.card-header -->
      <div class="card-body">
        <!-- Conversations are loaded here -->
        <div class="direct-chat-messages">
          <!-- Message. Defaulat to the left -->

          <!-- Message to the right -->
          <div class="direct-chat-msg right"  *ngFor="let comment of CommMs.commMsFiltre">
            <div class="direct-chat-infos clearfix">
              <span class="direct-chat-name float-right">Nom D'utilisateur</span>
              <span class="direct-chat-timestamp float-left">0000h</span>
            </div>
            <!-- /.direct-chat-infos -->
            <img class="direct-chat-img"  src="/assets/Image/user.png" >
            <!-- /.direct-chat-img -->
            <div class="direct-chat-text">
              {{comment.idComm}} 
             
            </div>
            <rating [(ngModel)]="comment.note"
            (click)="comminfoService.GetCommId(comment.idComm);VoteService.getidvote(comment.note)"></rating>
            <hr/>
            <!-- /.direct-chat-text -->
          </div>
          <!-- /.direct-chat-msg -->
        </div>
        <!--/.direct-chat-messages-->

        <!-- /.direct-chat-pane -->
      </div>
      <!-- /.card-body -->
      
      <!-- /.card-footer-->
    </div>
    <!------------------------------------------------------------------------------------------------------->
        <!-- <span class="float-right text-muted"> 2 comments</span> -->
      
      <!-- <div class="card-footer card-comments">
        <div class="card-comment" *ngFor="let comment of CommMs.commMsFiltre">
          <img class="img-circle img-sm" src="/assets/Image/Sans-titre-3.png" alt="User Image">
  
          <div class="comment-text" >
            <span class="username">
              Nom d'utilisateur
            </span>
            <textarea class="form-control"rows="3" readonly >
             
              {{comment.idComm}} 
          </textarea>
          </div>
          <rating [(ngModel)]="comment.note"
          (click)="comminfoService.GetCommId(comment.idComm);VoteService.getidvote(comment.note)"></rating>
        </div> -->
  
        <hr/>
        
          <app-commentaires-ms></app-commentaires-ms>
        
      
    </div>
    <!-- /.card -->
    </div>
  </div>
  
  </div>
  
  
  
  </div> <!-- /.content-wrapper -->
  